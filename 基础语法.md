# 基础语法

## var定义变量  let 定义常量

- let只能赋值一次, 声明时要指定类型

  ```swift
  let a: Int
  a=10
  ```

- 它的值不要求编译时候确定，但要保证使用前赋值一次

  ```swift
  func getAge() ->Int{
    return 10
  }
  let age=getAge()
  printf(age)
  ```

- 常量和变量在初始化之前，都不能使用

- printf变量

  ```swift
  var a = 10
  print("Hello, World! - \(a)")
  ```

## 标识符

- 标识符不能以数字开头，不能包含空白字符、制表符、箭头等特殊字符

## 常见数据类型

<table>
  <tr>
    <td rowspan="3" style="text-align:center;vertical-align:middle;">值类型（value type）</td>
    <td style="text-align:center;vertical-align:middle;">枚举（enum）</td>
    <td>Optional</td>
  </tr>
  <tr>
    <td rowspan="2" style="text-align:center;vertical-align:middle;">结构体（struct）</td>
    <td>Bool、Int、Float、Double、Character</td>
  </tr>
  <tr>
    <td>String、Array、Dictionary、Set</td>
  </tr>
  <tr>
    <td style="text-align:center;vertical-align:middle;">引用类型（reference type）</td>
    <td style="text-align:center;vertical-align:middle;">类（Class）</td>
  </tr>
</table>



- 字符类型要写清楚字符，不然会认为是字符串

  ```swift
  let character: Character = "a"
  ```

- 元组

  ```swif
  let error = (404,"Not Found")
  error.0
  error.1
  print("error is \(error)")
  ```

  ```swift
  let (statusCode, statusMsg) = error
  ```

  ```swift
  let (statusCode, _) = error
  ```

  ```swift
  let newError = (statusCode:200, MSG:"OK")
  print("newError is \(newError.statusCode)")
  ```

## 流程控制

  - if后面的条件可以省略小括号

    条件后面的大括号不可省略

    if后面的条件只能是Bool类型

  - while 条件{}

  - repeat {

    }while 条件 会先执行一次再做判断

  - for循环

    闭区间运算符：a...b代表  	a<=取值<=b

    半开区间运算符:a...<b代表	a<=取值<b

    单侧区间:

    ``` swift
    let names=["aa","bb","cc","dd"]
    for name in names[1...] {
    print(name)
    }//bb cc dd
    
    for name in names[..<2] {
      print(name)
    }//aa bb 
    
    let range=...10
    range.contains(1)//true
    range.contains(11)//false
    range.contains(-9)//true
    ```

    带间隔的区间值:

    ```swift
    let maxNum=11
    let increaseInterval=2
    //从3开始,间隔为2,不超过11
    for b in stride(from: 3, through:maxNum, by: increaseInterval){
    	print(b)
    }//3 5 7 9 11
    ```

  - switch:

   1. case、default后面不能写大括号{}

       可以不写break,不会贯穿到后面的条件

   2. fallthrough:实现贯穿效果

   3. switch必须保证能处理所有情况

       case和default后面至少要有一条语句,没有事情处理写break

   4. 符合条件

       switch支持Character、String类型

       ```swift
       let string = "jack"
       switch string {
       case "jack","rose":
       	print("right")
       defalult:
       	break
       }//right
       ```

   5. 区间匹配

          ```swift
          let count = 62
          switch count {
          case 0:
              print("none")
          case 1...5:
              print("a few")
          case 5..<12:
              print("several")
          case 12..<100:
              print("dozens of")
          case 100..<1000:
              print("hundreds of")
          default:
              print("many")
          }}//dozens of
          ```
         
         元祖匹配
         
         ```swift
          let point = (1, 1)
               switch point {
               case (0, 0):
                   print("the origin")
               case (0, _):
                   print("on y-axis")
               case (_, 0):
                   print("on x-axis")
               case (-2...2, -2...2):
                   print("in the box")
               default:
                   print("outside the box")
               }//in the box
         ```

   6. 值绑定

          ```swift
          let point = (2, 0)
          switch point {
          case (let x, 0):
              print("on x-axis x is \(x)")
              fallthrough
          case (var x, _):
              x=3
              print("x is \(x)")
          default:
              break
          }
          print("pointX is \(point.0)")
          /*
          on x-axis x is 2
          x is 3
          pointX is 2
          */
          
          ```

   7. where条件

          ```swift
          let point = (1, -1)
          switch point {
          case let(x, y) where x == -y:
              print("x等于-y")
          case let(x, y) where x == y:
              print("x等于y")
          default:
              break
          }//x等于-y
          ```

          where也可用在for循环中

          ```swift
          let numbers = [10, 20, -10, -20, 30, 40]
          var sum = 0
          for num in numbers where num>0 {//用where来过滤num
              sum += num
          }
          print(sum)
          //100
          ```

          

   8. 标签语句:

          ```swift
          outer: for i in 1...4 {
              for k in 1...4 {
                  if  k==3 {
                      continue outer
                  }
                  if i==3 {
                      break outer
                  }
                  print("i == \(i), k == \(k)")
              }
          }/*
          i == 1, k == 1
          i == 1, k == 2
          i == 2, k == 1
          i == 2, k == 2
          */
          ```

## 函数

 - 形参默认是let,也只能是let

 - 隐式返回: 如果整个函数体是一个单一表达式,那么函数会隐式返回这个表达式

      ```swift
      func sum(v1: Int, v2: Int) ->Int {
          v1+v2
      }
      let a=sum(v1: 1, v2: 2)
      print("a is \(a)")//a is 3
      ```

 - 返回元祖

      ```swift
      func calculate(v1: Int, v2: Int) ->(sum: Int, difference: Int, average: Int) {
          let sum = v1 + v2
          return (sum, v1 - v2, sum >> 1)
      }
      let result = calculate(v1: 10, v2: 20)
      result.sum  //30
      result.difference   //-10
      result.average  //15
      ```

 - 函数的文档注释

      参考: [(https://swift.org/documentatior/api-design-guidelines/)](https://swift.org/documentatior/api-design-guidelines/)

      ```swift
      /// 概述
      ///
      /// 更详细的描述
      ///
      /// - Parameters:
      ///   - v1: 参数1
      ///   - v2: 参数2
      /// - Returns: 返回元祖
      ///
      /// - Note: 批注
      ///
      ```
      
 - 参数标签

      1. 可以修改参数标签

         ```swift
         func gotowork(at time:String) {
             print("this time is \(time)")
         }
         gotowork(at: "09.00")	
         ```

      2. 可以使用下划线 _	省略参数标签

         ```swift
         func sum(_ v1: Int,_ v2: Int) ->Int {
             v1+v2
         }
         sum(10, 20)
         ```

 - 默认参数值

      c++的默认参数值有个限制: 必须从右到左设置. 由于swift拥有参数标签,因此并没有此类限制

      但是在省略参数标签时, 需要特别注意, 避免出错

 - 可变参数

      ```swift
      func sum(_ numbers:Int...) ->Int{
          var total = 0
          for number in numbers{
              total+=number
          }
          return total
      }
      sum(10, 20, 30, 40)//100
      ```

      1. 一个函数最多只能有一个可变参数

      2. 紧跟在可变参数后面的参数不能省略参数标签

         ```swift
         //参数string不能省略标签
         func test(_ numbers: Int..., string: String, _ other: String){}
         test(10, 20, 30, string: "jack", "rose")
         ```

- print函数

     省略了第一个可变参数items

     第二个参数分隔符不能省略, 默认为空格

     第三个参数为末尾默认添加换行符

     ```swift
     /// - Parameters:
     ///   - items: Zero or more items to print.
     ///   - separator: A string to print between each item. The default is a single
     ///     space (`" "`).
     ///   - terminator: The string to print after all items have been printed. The
     ///     default is a newline (`"\n"`).
     public func print(_ items: Any..., separator: String = " ", terminator: String = "\n")
     ```

     ```swift
     print("1", "2", "3", separator:"?", terminator:"")
     print("4")
     //1?2?34
     ```

- 输入输出参数(In-Out Parameter)

     用inout定义一个输入输出参数: 可以在函数内部修改外部实参的值

     ```swift
     func swapValues(_ v1: inout Int, _ v2: inout Int) {
            (v1, v2)=(v2, v1)
     }
     var num1 = 10
     var num2 = 20
     swapValues(&num1, &num2)
     print("num1 is \(num1)", "num2 is \(num2)", separator:"\n")
     /*
     num1 is 20
     num2 is 10
     */
     ```

     注意点:

     1. 可变参数不能标记为inout
     2. inout参数不能有默认值
     3. inout参数的本质是地址传递(引用传递)
     4. inout参数只能传入可以被多次赋值的

- 函数重载( Function Overload )

     规则:

     1. 函数名相同

     2. 参数个数 || 参数类型 || 参数标签不同

     函数重载注意点:

     1. 返回值类型与函数重载无关

     2. 默认参数值和函数重载一起使用产生二义性时, 编译器不会报错( 在c++中会报错 )

        ```swift
        func sum(v1: Int, v2: Int) {
            v1 + v2
        }
        func sum(v1: Int, v2: Int, v3: Int) {
            v1 + v2 + v3
        }
        sum(v1: 10, v2: 20)//这里会调用sum(v1: Int, v2: Int)
        ```

     3. 可变参数、省略参数标签、函数重载一起使用产生二义性时,编译器可能会报错

        ```swift
        func sum(v1: Int, v2: Int) {
            v1 + v2
        }
        func sum(_ v1: Int, _ v2: Int) {
            v1 + v2
        }
        func sum(_ numbers: Int...) ->Int {
            var total = 0
            for number in numbers {
                total+=number
            }
            return total
        }
        sum(10, 20)//error: ambiguous use of 'sum'
        ```

- 内联函数